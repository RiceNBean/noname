<link rel="stylesheet" href="http://d2v52k3cl9vedd.cloudfront.net/bassdock/1.2.1/bassdock.min.css">
<link rel="stylesheet" href="http://d2v52k3cl9vedd.cloudfront.net/vhs/0.1.0/vhs.min.css">

<style>
  a { word-wrap: break-word }
  code {
    font-size: 87.5%;
    color: #222;
    background-color: rgba(127, 219, 255, .25);
  }
  .container-narrow { max-width: 48em }
  .bg-dark { background-color:#102630; }
  .button-logo {
    width: 2em;
    height: 2em;
    border-radius: 10000px;
    border-width: 3px;
  }
  .button-logo:hover {
    color: #102630;
    background-color: #ff4136;
    opacity: 0.9;
    box-shadow: 0 0 0 2px rgba(255,65,54,.5);
  }
  .button-logo:before,
  .button-logo:after {
    border-radius: inherit;
  }
  .button-outline { border-width: 2px }
  .button-transparent:focus { box-shadow: inset 0 0 0 2px }
  .button-grow { transition: transform, box-shadow, .05s ease }
  .button-grow:hover { transform: scale(1.0625) }
  .button-grow:active { transform: scale(.9375) }
  .icon { top: .03125em }
</style>
<div ng-controller="PlayerCtrl as vm">
<div>
  {{vm.currentSong}}
  <div plangular={{vm.currentSong}} class="py1">
    <div class="relative bg-silver" style="height:6rem;">
      <div class="absolute top-0 bottom-0 left-0 bg-aqua"
        style="width:{{ 100 * (currentTime / duration) || 0 }}%"></div>
      <img ng-src="{{track.waveform_url}}"
        alt="{{track.title}} waveform"
        style="width:100%;height:100%;-webkit-filter:contrast(200%);filter:contrast(200%);"
        class="absolute top-0 right-0 bottom-0 left-0" />
      <div class="absolute top-0 right-0 bottom-0 left-0" ng-click="seek($event)"></div>
      <div class="absolute m1 top-0 bottom-0 mt3 mb3 flex flex-center">
        <button ng-click="playPause()"
          title="Play/Pause"
          class="flex-none h4 mr1 button button-transparent button-grow rounded">
          <svg ng-if="player.playing !== track.src" class="icon geomicon" data-icon="play" viewBox="0 0 32 32" width="32" height="32" style="fill:currentcolor"><path d="M4 4 L28 16 L4 28 z "></path></svg>
          <svg ng-if="player.playing === track.src" class="icon geomicon" data-icon="pause" viewBox="0 0 32 32" width="32" height="32" style="fill:currentcolor"><path d="M4 4 H12 V28 H4 z M20 4 H28 V28 H20 z "></path></svg>
        </button>
        <div>
          <h3 class="h6 caps m0">{{track.user.username}}</h3>
          <h2 class="h4 caps m0">{{track.title}}</h2>
        </div>
      </div>
    </div>
  </div>
</div>
